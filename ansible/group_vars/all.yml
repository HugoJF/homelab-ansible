---

cloudflare_tunnel_token: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  64396361613763623039653236303765613466336236666436353863366166313238343862666661
  6330373461326562313364613731646430383434383930610a316366653665626163656233363135
  35376666616361366237613462323863346232343964663233636632373431363337626434353964
  3537653332353462300a313832333733626436323465343536363266316566663839663732353666
  34643664373230373062343531323635306530653831323836383963636661363934383762386662
  61636530663135363335633036623034306636366338666264356639353534343036633663666131
  34653263396134656263303630626135383336306439363731383163623731323032303632376533
  35386162616332613463373138663964663639353364323065326466366563616438363261343766
  34396538343562376339626339393161393832356662363239316166663437386365623163376330
  65336364663535663535363039383535316637626536643733333565376539636562393662393431
  39356464356365333630383236643563323333333864616632633338356238363033623737616130
  39663161363139333965346436316433363131633430616263356665656565383330356163623239
  32303138326536663262383234653139333336633833636463306563316564313434

traefik_project_src: "{{ ansible_user_dir }}/code/traefik"

traefik_services:
  - name: cups
    url: cups.hugo.dev.br
    port: 631

  - name: octoprint
    url: octoprint.hugo.dev.br
    port: 8081

  - name: firefly
    url: firefly.hugo.dev.br
    port: 6666

  - name: pihole
    url: pihole.hugo.dev.br
    port: 800
#    middlewares:
#      - add-admin-prefix

  - name: memos
    url: memos.hugo.dev.br
    port: 5230

  - name: grafana
    url: grafana.hugo.dev.br
    port: 3000

  - name: prometheus
    url: prometheus.hugo.dev.br
    port: 9090

  - name: paperless
    url: paperless.hugo.dev.br
    port: 8998

  - name: lan
    url: lan.hugo.dev.br
    port: 8840

  - name: syncthing
    url: syncthing.hugo.dev.br
    port: 8384

  - name: scrutiny
    url: scrutiny.hugo.dev.br
    port: 8912

homeassistant_api_key: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  36393664346464613838306633626132353364666230386237623163386134303634326464643064
  3266666531646532353631326631313662303932353039330a646335613734303130383364623831
  63396266363235363039636430386137633239636433313661326336376639393162303363343661
  3963373336313532640a346330656534633735386632643866316432376131303531656539363439
  36633139653330383762386439306361356266666133333666346532376164303764326436376534
  39306666316434616530383663356338313262363534373030343834376535326336383031363637
  39373064303564323636333761316333666466653839386135616635353062386333303838313866
  65373665313635393066313235346361656364623830383031336231626362333830666665316662
  62333230643438643432663862613963646664663666373461666133356661313261396230333733
  63326633383935353437393737356535666138336331623335656635336464393564373236316230
  66383439633163336430333937643638633165633864636166613637623933613433616333373033
  32346661393235313034346437643965613438323733656432643837653732666538366164396363
  33366637643232353234636132366137323338383130316537306233663262316635
monitoring_project_src: "{{ ansible_user_dir }}/code/monitoring"

prometheus_config:
  global:
    scrape_interval: 15s
    evaluation_interval: 15s

    external_labels:
      monitor: 'my-project'

  rule_files:
    - 'alert.rules'

  alerting:
    alertmanagers:
      - scheme: http
        static_configs:
          - targets:
              - "alertmanager:9093"

  scrape_configs:
    - job_name: 'prometheus'
      scrape_interval: 15s
      static_configs:
        - targets: [ 'localhost:9090' ]

    - job_name: 'cadvisor'
      scrape_interval: 15s
      static_configs:
        - targets: [ 'cadvisor:8080' ]

    - job_name: 'bf4-masterserver'
      scrape_interval: 60s
      static_configs:
        - targets: [ '192.168.15.6:9464' ]

    #    - job_name: 'ibt'
    #      scrape_interval: 5s
    #      static_configs:
    #        - targets: [ '192.168.15.74:8080' ]

    - job_name: 'ha'
      metrics_path: /api/prometheus
      scrape_interval: 30s
      bearer_token: "{{ homeassistant_api_key }}"
      static_configs:
        - targets: [ '192.168.15.6:8123' ]

    - job_name: 'node-exporter'
      scrape_interval: 15s
      static_configs:
        - targets: [ 'node-exporter:9100' ]